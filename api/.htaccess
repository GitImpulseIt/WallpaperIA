# Sécurité : Interdire l'accès direct aux fichiers sensibles
<FilesMatch "^(encryption\.key|ftp\.json|file_mappings\.json|wallpapers\.csv)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Exception : Autoriser l'accès depuis PHP uniquement
<Files ~ "\.(key|json|csv)$">
    # Les scripts PHP locaux peuvent toujours lire ces fichiers
    # Mais aucun accès HTTP direct n'est autorisé
</Files>

RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Note: Les limites PHP (memory_limit, max_execution_time, etc.)
# doivent être configurées dans php.ini ou via ini_set() dans le code
# car php_value n'est pas supporté par tous les hébergeurs